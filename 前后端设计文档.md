# ES文件管理系统前后端设计文档
严格按照规范来  代码太多要做拆分 不要一个文件搞的很大
## 项目整体架构

```
esfile/
├── backend/                 # 后端项目
│   ├── src/
│   ├── pom.xml
│   └── README.md
├── frontend/                # 前端项目
│   ├── src/
│   ├── package.json
│   └── README.md
├── docs/                    # 项目文档
├── docker/                  # Docker配置
└── README.md               # 项目总览
```

## 后端设计 (Spring Boot)

### 技术选型
- **框架**: Spring Boot 2.7.18
- **JDK**: Java 8
- **构建工具**: Maven 3.6+
- **数据库**: MySQL 8.0
- **缓存**: Redis 6.0+
- **搜索引擎**: Elasticsearch 7.17.15
- **对象存储**: MinIO 8.5.2
- **权限控制**: Spring Security + JWT
- **文档处理**: Apache POI + PDFBox
- **ORM框架**: MyBatis 3.5+
- **代码规范**: 阿里Java开发手册

### 后端目录结构

```
backend/
├── src/
│   ├── main/
│   │   ├── java/
│   │   │   └── com/
│   │   │       └── esfile/
│   │   │           ├── EsFileApplication.java                    # 主启动类
│   │   │           ├── common/                                   # 公共组件
│   │   │           │   ├── annotation/                           # 自定义注解
│   │   │           │   │   ├── Log.java                          # 操作日志注解
│   │   │           │   │   ├── Permission.java                   # 权限注解
│   │   │           │   │   └── RateLimit.java                    # 限流注解
│   │   │           │   ├── aspect/                               # 切面
│   │   │           │   │   ├── LogAspect.java                    # 日志切面
│   │   │           │   │   ├── PermissionAspect.java            # 权限切面
│   │   │           │   │   └── RateLimitAspect.java             # 限流切面
│   │   │           │   ├── config/                               # 配置类
│   │   │           │   │   ├── ElasticsearchConfig.java         # ES配置
│   │   │           │   │   ├── MinioConfig.java                  # MinIO配置
│   │   │           │   │   ├── RedisConfig.java                  # Redis配置
│   │   │           │   │   ├── SecurityConfig.java               # 安全配置
│   │   │           │   │   ├── SwaggerConfig.java                # API文档配置
│   │   │           │   │   └── WebMvcConfig.java                 # Web配置
│   │   │           │   ├── constant/                             # 常量定义
│   │   │           │   │   ├── CommonConstant.java               # 通用常量
│   │   │           │   │   ├── FileConstant.java                 # 文件相关常量
│   │   │           │   │   ├── SecurityConstant.java             # 安全相关常量
│   │   │           │   │   └── SystemConstant.java               # 系统常量
│   │   │           │   ├── enums/                                # 枚举类
│   │   │           │   │   ├── FileTypeEnum.java                 # 文件类型枚举
│   │   │           │   │   ├── PermissionTypeEnum.java           # 权限类型枚举
│   │   │           │   │   ├── ResponseCodeEnum.java             # 响应码枚举
│   │   │           │   │   └── UserStatusEnum.java               # 用户状态枚举
│   │   │           │   ├── exception/                            # 异常处理
│   │   │           │   │   ├── BusinessException.java            # 业务异常
│   │   │           │   │   ├── GlobalExceptionHandler.java       # 全局异常处理器
│   │   │           │   │   ├── PermissionException.java          # 权限异常
│   │   │           │   │   └── ValidationException.java          # 参数验证异常
│   │   │           │   ├── interceptor/                          # 拦截器
│   │   │           │   │   ├── AuthenticationInterceptor.java   # 认证拦截器
│   │   │           │   │   ├── LogInterceptor.java               # 日志拦截器
│   │   │           │   │   └── RateLimitInterceptor.java         # 限流拦截器
│   │   │           │   ├── util/                                 # 工具类
│   │   │           │   │   ├── DateUtil.java                     # 日期工具
│   │   │           │   │   ├── FileUtil.java                     # 文件工具
│   │   │           │   │   ├── JwtUtil.java                      # JWT工具
│   │   │           │   │   ├── PasswordUtil.java                 # 密码工具
│   │   │           │   │   ├── RedisUtil.java                    # Redis工具
│   │   │           │   │   └── StringUtil.java                   # 字符串工具
│   │   │           │   └── vo/                                   # 视图对象
│   │   │           │       ├── PageResult.java                   # 分页结果
│   │   │           │       ├── ResponseResult.java               # 统一响应结果
│   │   │           │       └── UserInfo.java                     # 用户信息
│   │   │           ├── controller/                               # 控制器层
│   │   │           │   ├── auth/                                 # 认证控制器
│   │   │           │   │   ├── AuthController.java               # 认证控制器
│   │   │           │   │   └── LoginController.java              # 登录控制器
│   │   │           │   ├── file/                                 # 文件管理控制器
│   │   │           │   │   ├── FileController.java               # 文件控制器
│   │   │           │   │   ├── FilePreviewController.java        # 文件预览控制器
│   │   │           │   │   └── FileSearchController.java         # 文件搜索控制器
│   │   │           │   ├── system/                               # 系统管理控制器
│   │   │           │   │   ├── MenuController.java               # 菜单控制器
│   │   │           │   │   ├── PermissionController.java         # 权限控制器
│   │   │           │   │   ├── RoleController.java               # 角色控制器
│   │   │           │   │   ├── SystemController.java             # 系统控制器
│   │   │           │   │   └── UserController.java               # 用户控制器
│   │   │           │   └── database/                             # 数据库操作控制器
│   │   │           │       └── DatabaseController.java           # 数据库操作控制器
│   │   │           ├── service/                                  # 服务层
│   │   │           │   ├── auth/                                 # 认证服务
│   │   │           │   │   ├── AuthService.java                  # 认证服务接口
│   │   │           │   │   └── impl/                             # 认证服务实现
│   │   │           │   │       └── AuthServiceImpl.java          # 认证服务实现类
│   │   │           │   ├── file/                                 # 文件管理服务
│   │   │           │   │   ├── FileService.java                  # 文件服务接口
│   │   │           │   │   ├── FilePreviewService.java           # 文件预览服务接口
│   │   │           │   │   ├── FileSearchService.java            # 文件搜索服务接口
│   │   │           │   │   └── impl/                             # 文件服务实现
│   │   │           │   │       ├── FileServiceImpl.java          # 文件服务实现类
│   │   │           │   │       ├── FilePreviewServiceImpl.java   # 文件预览服务实现类
│   │   │           │   │       └── FileSearchServiceImpl.java    # 文件搜索服务实现类
│   │   │           │   ├── system/                               # 系统管理服务
│   │   │           │   │   ├── MenuService.java                  # 菜单服务接口
│   │   │           │   │   ├── PermissionService.java            # 权限服务接口
│   │   │           │   │   ├── RoleService.java                  # 角色服务接口
│   │   │           │   │   ├── SystemService.java                # 系统服务接口
│   │   │           │   │   ├── UserService.java                  # 用户服务接口
│   │   │           │   │   └── impl/                             # 系统服务实现
│   │   │           │   │       ├── MenuServiceImpl.java          # 菜单服务实现类
│   │   │           │   │       ├── PermissionServiceImpl.java    # 权限服务实现类
│   │   │           │   │       ├── RoleServiceImpl.java          # 角色服务实现类
│   │   │           │   │       ├── SystemServiceImpl.java        # 系统服务实现类
│   │   │           │   │       └── UserServiceImpl.java          # 用户服务实现类
│   │   │           │   └── database/                             # 数据库操作服务
│   │   │           │       ├── DatabaseService.java              # 数据库操作服务接口
│   │   │           │       └── impl/                             # 数据库操作服务实现
│   │   │           │           └── DatabaseServiceImpl.java      # 数据库操作服务实现类
│   │   │           │   └── database/                             # 数据库操作服务
│   │   │           │       ├── DatabaseService.java              # 数据库操作服务接口
│   │   │           │       └── impl/                             # 数据库操作服务实现
│   │   │           │           └── DatabaseServiceImpl.java      # 数据库操作服务实现类
│   │   │           ├── mapper/                                   # MyBatis映射器
│   │   │           │   ├── FileInfoMapper.java                   # 文件信息映射器
│   │   │           │   ├── MenuMapper.java                       # 菜单映射器
│   │   │           │   ├── PermissionMapper.java                 # 权限映射器
│   │   │           │   ├── RoleMapper.java                       # 角色映射器
│   │   │           │   ├── UserMapper.java                       # 用户映射器
│   │   │           │   └── UserRoleMapper.java                   # 用户角色关联映射器
│   │   │           ├── repository/                               # 数据访问层
│   │   │           │   ├── elasticsearch/                        # ES数据访问
│   │   │           │   │   ├── FileDocumentRepository.java       # 文件文档仓库
│   │   │           │   │   └── UserDocumentRepository.java       # 用户文档仓库
│   │   │           │   └── redis/                                # Redis数据访问
│   │   │           │       ├── UserCacheRepository.java          # 用户缓存仓库
│   │   │           │       └── TokenCacheRepository.java         # Token缓存仓库
│   │   │           ├── entity/                                   # 实体类
│   │   │           │   ├── elasticsearch/                        # ES实体
│   │   │           │   │   ├── FileDocument.java                 # 文件文档实体
│   │   │           │   │   └── UserDocument.java                 # 用户文档实体
│   │   │           │   ├── mybatis/                              # MyBatis实体
│   │   │           │   │   ├── BaseEntity.java                   # 基础实体
│   │   │           │   │   ├── FileInfo.java                     # 文件信息实体
│   │   │           │   │   ├── Menu.java                         # 菜单实体
│   │   │           │   │   ├── Permission.java                   # 权限实体
│   │   │           │   │   ├── Role.java                         # 角色实体
│   │   │           │   │   ├── RolePermission.java               # 角色权限关联实体
│   │   │           │   │   ├── SystemConfig.java                 # 系统配置实体
│   │   │           │   │   ├── User.java                         # 用户实体
│   │   │           │   │   └── UserRole.java                     # 用户角色关联实体
│   │   │           │   └── dto/                                  # 数据传输对象
│   │   │           │       ├── FileUploadDto.java                # 文件上传DTO
│   │   │           │       ├── LoginDto.java                     # 登录DTO
│   │   │           │       ├── RegisterDto.java                  # 注册DTO
│   │   │           │       ├── SearchDto.java                    # 搜索DTO
│   │   │           │       └── SqlExecuteDto.java                # SQL执行DTO
│   │   │           └── security/                                 # 安全相关
│   │   │               ├── JwtAuthenticationFilter.java          # JWT认证过滤器
│   │   │               ├── JwtAuthenticationProvider.java        # JWT认证提供者
│   │   │               ├── UserDetailsServiceImpl.java            # 用户详情服务实现
│   │   │               └── PasswordEncoderImpl.java              # 密码编码器实现
│   │   └── resources/
│   │       ├── application.yml                                   # 主配置文件
│   │       ├── application-dev.yml                               # 开发环境配置
│   │       ├── application-prod.yml                              # 生产环境配置
│   │       ├── application-test.yml                              # 测试环境配置
│   │       ├── logback-spring.xml                                # 日志配置
│   │       ├── mapper/                                           # MyBatis映射文件
│   │       │   ├── UserMapper.xml                                # 用户映射文件
│   │       │   ├── RoleMapper.xml                                # 角色映射文件
│   │       │   ├── PermissionMapper.xml                          # 权限映射文件
│   │       │   └── FileInfoMapper.xml                            # 文件信息映射文件
│   │       ├── static/                                           # 静态资源
│   │       └── templates/                                        # 模板文件
│   └── test/                                                     # 测试代码
│       ├── java/
│       │   └── com/
│       │       └── esfile/
│       │           ├── controller/                               # 控制器测试
│       │           ├── service/                                  # 服务层测试
│       │           └── mapper/                                   # MyBatis映射器测试
│       └── resources/
│           └── application-test.yml                              # 测试环境配置
├── pom.xml                                                       # Maven配置
├── Dockerfile                                                     # Docker镜像构建文件
├── docker-compose.yml                                            # Docker编排文件
└── README.md                                                     # 后端项目说明
```

### 后端核心配置

#### 1. 主配置文件 (application.yml)
```yaml
spring:
  profiles:
    active: dev
  application:
    name: esfile-backend
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://139.224.67.165:11006/esfile?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
    username: root
    password: hujianlin
    hikari:
      maximum-pool-size: 20
      minimum-idle: 5
      connection-timeout: 30000
      idle-timeout: 600000
      max-lifetime: 1800000
  mybatis:
    mapper-locations: classpath:mapper/*.xml
    type-aliases-package: com.esfile.entity
    configuration:
      map-underscore-to-camel-case: true
      log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  redis:
    host: 139.224.67.165
    port: 11001
    password: hujianlin
    database: 0
    timeout: 3000ms
    lettuce:
      pool:
        max-active: 8
        max-idle: 8
        min-idle: 0
        max-wait: -1ms
  data:
    elasticsearch:
      repositories:
        enabled: true
      cluster-name: elasticsearch
      cluster-nodes: 139.224.67.165:11015
      username: elastic
      password: hujianlin

# MinIO配置
minio:
  endpoint: http://139.224.67.165:11004
  access-key: hujianlin
  secret-key: hujianlin
  bucket: elasticsearch

# JWT配置
jwt:
  secret: esfile-secret-key-2024
  expiration: 86400000
  header: Authorization

# 文件上传配置
file:
  upload:
    max-size: -1
    chunk-size: 1048576
    temp-dir: /tmp/upload

# 日志配置
logging:
  level:
    com.esfile: DEBUG
    org.springframework.security: DEBUG
  file:
    name: logs/esfile-backend.log
```

## 前端设计 (Vue 3)

### 技术选型
- **框架**: Vue 3.3+
- **语言**: TypeScript 5.0+
- **构建工具**: Vite 4.0+
- **UI组件库**: Element Plus 2.3+
- **状态管理**: Pinia 2.1+
- **路由**: Vue Router 4.2+
- **HTTP客户端**: Axios 1.4+
- **代码规范**: ESLint + Prettier
- **样式**: SCSS + CSS Modules

### 前端目录结构

```
frontend/
├── public/                                                       # 静态资源
│   ├── favicon.ico                                              # 网站图标
│   ├── index.html                                               # HTML模板
│   └── assets/                                                  # 静态资源
│       ├── images/                                              # 图片资源
│       └── icons/                                               # 图标资源
├── src/
│   ├── api/                                                     # API接口
│   │   ├── auth/                                                # 认证相关API
│   │   │   ├── auth.ts                                         # 认证API
│   │   │   ├── login.ts                                        # 登录API
│   │   │   └── register.ts                                     # 注册API
│   │   ├── file/                                                # 文件管理API
│   │   │   ├── file.ts                                         # 文件API
│   │   │   ├── upload.ts                                       # 文件上传API
│   │   │   ├── preview.ts                                      # 文件预览API
│   │   │   └── search.ts                                       # 文件搜索API
│   │   ├── system/                                              # 系统管理API
│   │   │   ├── user.ts                                         # 用户管理API
│   │   │   ├── role.ts                                         # 角色管理API
│   │   │   ├── menu.ts                                         # 菜单管理API
│   │   │   ├── permission.ts                                   # 权限管理API
│   │   │   └── system.ts                                       # 系统配置API
│   │   ├── database/                                            # 数据库操作API
│   │   │   └── database.ts                                     # 数据库操作API
│   │   ├── types/                                               # API类型定义
│   │   │   ├── auth.ts                                         # 认证类型
│   │   │   ├── file.ts                                         # 文件类型
│   │   │   ├── system.ts                                       # 系统类型
│   │   │   └── common.ts                                       # 通用类型
│   │   ├── request.ts                                           # 请求配置
│   │   └── index.ts                                             # API导出
│   ├── assets/                                                  # 资源文件
│   │   ├── styles/                                              # 样式文件
│   │   │   ├── variables.scss                                   # 变量定义
│   │   │   ├── mixins.scss                                     # 混入定义
│   │   │   ├── common.scss                                     # 通用样式
│   │   │   ├── reset.scss                                      # 重置样式
│   │   │   └── index.scss                                      # 样式入口
│   │   ├── images/                                              # 图片资源
│   │   └── icons/                                               # 图标资源
│   ├── components/                                              # 公共组件
│   │   ├── common/                                              # 通用组件
│   │   │   ├── AppHeader.vue                                   # 应用头部
│   │   │   ├── AppSidebar.vue                                  # 应用侧边栏
│   │   │   ├── AppFooter.vue                                   # 应用底部
│   │   │   ├── Breadcrumb.vue                                  # 面包屑导航
│   │   │   ├── Loading.vue                                     # 加载组件
│   │   │   ├── Pagination.vue                                  # 分页组件
│   │   │   └── SearchInput.vue                                 # 搜索输入框
│   │   ├── form/                                                # 表单组件
│   │   │   ├── BaseForm.vue                                    # 基础表单
│   │   │   ├── BaseInput.vue                                   # 基础输入框
│   │   │   ├── BaseSelect.vue                                  # 基础选择器
│   │   │   ├── BaseDatePicker.vue                              # 基础日期选择器
│   │   │   └── BaseUpload.vue                                  # 基础上传组件
│   │   ├── table/                                               # 表格组件
│   │   │   ├── BaseTable.vue                                   # 基础表格
│   │   │   ├── TableColumn.vue                                 # 表格列
│   │   │   └── TableToolbar.vue                                # 表格工具栏
│   │   ├── modal/                                               # 弹窗组件
│   │   │   ├── BaseModal.vue                                   # 基础弹窗
│   │   │   ├── ConfirmModal.vue                                # 确认弹窗
│   │   │   └── FormModal.vue                                   # 表单弹窗
│   │   ├── file/                                                # 文件相关组件
│   │   │   ├── FileUpload.vue                                  # 文件上传组件
│   │   │   ├── FilePreview.vue                                 # 文件预览组件
│   │   │   ├── FileSearch.vue                                  # 文件搜索组件
│   │   │   ├── FileList.vue                                    # 文件列表组件
│   │   │   ├── FileGrid.vue                                    # 文件网格组件
│   │   │   └── FileToolbar.vue                                 # 文件工具栏组件
│   │   └── system/                                              # 系统管理组件
│   │       ├── UserForm.vue                                    # 用户表单
│   │       ├── RoleForm.vue                                    # 角色表单
│   │       ├── MenuForm.vue                                    # 菜单表单
│   │       └── PermissionForm.vue                              # 权限表单
│   ├── views/                                                   # 页面组件
│   │   ├── auth/                                                # 认证页面
│   │   │   ├── Login.vue                                       # 登录页面
│   │   │   └── Register.vue                                    # 注册页面
│   │   ├── layout/                                              # 布局页面
│   │   │   ├── MainLayout.vue                                  # 主布局
│   │   │   ├── AuthLayout.vue                                  # 认证布局
│   │   │   └── ErrorLayout.vue                                 # 错误页面布局
│   │   ├── dashboard/                                           # 仪表板页面
│   │   │   └── Dashboard.vue                                   # 仪表板
│   │   ├── file/                                                # 文件管理页面
│   │   │   ├── FileManager.vue                                 # 文件管理主页面
│   │   │   ├── FileUpload.vue                                  # 文件上传页面
│   │   │   ├── FilePreview.vue                                 # 文件预览页面
│   │   │   ├── FileSearch.vue                                  # 文件搜索页面
│   │   │   └── FileList.vue                                    # 文件列表页面
│   │   ├── system/                                              # 系统管理页面
│   │   │   ├── UserManagement.vue                              # 用户管理页面
│   │   │   ├── RoleManagement.vue                              # 角色管理页面
│   │   │   ├── MenuManagement.vue                              # 菜单管理页面
│   │   │   ├── PermissionManagement.vue                        # 权限管理页面
│   │   │   └── SystemConfig.vue                                # 系统配置页面
│   │   └── database/                                            # 数据库操作页面
│   │       └── DatabaseOperation.vue                           # 数据库操作页面
│   ├── router/                                                  # 路由配置
│   │   ├── index.ts                                             # 路由入口
│   │   ├── routes/                                              # 路由定义
│   │   │   ├── auth.ts                                         # 认证路由
│   │   │   ├── dashboard.ts                                    # 仪表板路由
│   │   │   ├── file.ts                                         # 文件管理路由
│   │   │   ├── system.ts                                       # 系统管理路由
│   │   │   └── database.ts                                     # 数据库操作路由
│   │   ├── guards/                                              # 路由守卫
│   │   │   ├── authGuard.ts                                    # 认证守卫
│   │   │   ├── permissionGuard.ts                              # 权限守卫
│   │   │   └── roleGuard.ts                                    # 角色守卫
│   │   └── types.ts                                             # 路由类型定义
│   ├── stores/                                                  # 状态管理
│   │   ├── modules/                                             # 状态模块
│   │   │   ├── auth.ts                                         # 认证状态
│   │   │   ├── user.ts                                         # 用户状态
│   │   │   ├── file.ts                                         # 文件状态
│   │   │   ├── system.ts                                       # 系统状态
│   │   │   └── app.ts                                          # 应用状态
│   │   ├── index.ts                                             # 状态管理入口
│   │   └── types.ts                                             # 状态类型定义
│   ├── utils/                                                   # 工具函数
│   │   ├── auth.ts                                              # 认证工具
│   │   ├── file.ts                                              # 文件工具
│   │   ├── format.ts                                            # 格式化工具
│   │   ├── storage.ts                                           # 存储工具
│   │   ├── validate.ts                                          # 验证工具
│   │   └── request.ts                                           # 请求工具
│   ├── hooks/                                                   # 组合式函数
│   │   ├── useAuth.ts                                           # 认证相关Hook
│   │   ├── useFile.ts                                           # 文件相关Hook
│   │   ├── usePermission.ts                                     # 权限相关Hook
│   │   ├── useTable.ts                                          # 表格相关Hook
│   │   └── useUpload.ts                                         # 上传相关Hook
│   ├── directives/                                              # 自定义指令
│   │   ├── permission.ts                                        # 权限指令
│   │   ├── loading.ts                                           # 加载指令
│   │   └── debounce.ts                                          # 防抖指令
│   ├── plugins/                                                  # 插件
│   │   ├── element-plus.ts                                      # Element Plus插件
│   │   ├── i18n.ts                                              # 国际化插件
│   │   └── error-handler.ts                                     # 错误处理插件
│   ├── types/                                                    # 类型定义
│   │   ├── global.d.ts                                          # 全局类型
│   │   ├── api.d.ts                                             # API类型
│   │   ├── component.d.ts                                       # 组件类型
│   │   └── store.d.ts                                           # 状态类型
│   ├── App.vue                                                   # 根组件
│   ├── main.ts                                                   # 应用入口
│   └── env.d.ts                                                  # 环境变量类型
├── .eslintrc.js                                                  # ESLint配置
├── .prettierrc                                                   # Prettier配置
├── .gitignore                                                    # Git忽略文件
├── index.html                                                    # HTML模板
├── package.json                                                  # 依赖配置
├── tsconfig.json                                                 # TypeScript配置
├── vite.config.ts                                                # Vite配置
├── Dockerfile                                                     # Docker镜像构建文件
├── docker-compose.yml                                            # Docker编排文件
└── README.md                                                     # 前端项目说明
```

### 前端核心配置

#### 1. 依赖配置 (package.json)
```json
{
  "name": "esfile-frontend",
  "version": "1.0.0",
  "description": "ES文件管理系统前端",
  "scripts": {
    "dev": "vite",
    "build": "vue-tsc && vite build",
    "preview": "vite preview",
    "lint": "eslint . --ext .vue,.js,.jsx,.cjs,.mjs,.ts,.tsx,.cts,.mts --fix --ignore-path .gitignore",
    "format": "prettier --write src/"
  },
  "dependencies": {
    "vue": "^3.3.4",
    "vue-router": "^4.2.4",
    "pinia": "^2.1.6",
    "element-plus": "^2.3.8",
    "axios": "^1.4.0",
    "@element-plus/icons-vue": "^2.1.0",
    "nprogress": "^0.2.0",
    "js-cookie": "^3.0.5"
  },
  "devDependencies": {
    "@types/node": "^20.4.5",
    "@types/js-cookie": "^3.0.6",
    "@types/nprogress": "^0.2.0",
    "@typescript-eslint/eslint-plugin": "^6.2.0",
    "@typescript-eslint/parser": "^6.2.0",
    "@vitejs/plugin-vue": "^4.2.3",
    "@vue/eslint-config-prettier": "^8.0.0",
    "@vue/eslint-config-typescript": "^11.0.3",
    "@vue/tsconfig": "^0.4.0",
    "eslint": "^8.45.0",
    "eslint-plugin-vue": "^9.15.1",
    "prettier": "^3.0.0",
    "sass": "^1.64.1",
    "typescript": "~5.1.6",
    "vite": "^4.4.5",
    "vue-tsc": "^1.8.5"
  }
}
```

#### 2. Vite配置 (vite.config.ts)
```typescript
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import { resolve } from 'path'

export default defineConfig({
  plugins: [vue()],
  resolve: {
    alias: {
      '@': resolve(__dirname, 'src'),
      '@components': resolve(__dirname, 'src/components'),
      '@views': resolve(__dirname, 'src/views'),
      '@api': resolve(__dirname, 'src/api'),
      '@utils': resolve(__dirname, 'src/utils'),
      '@stores': resolve(__dirname, 'src/stores'),
      '@assets': resolve(__dirname, 'src/assets'),
      '@types': resolve(__dirname, 'src/types')
    }
  },
  server: {
    port: 3000,
    open: true,
    proxy: {
      '/api': {
        target: 'http://localhost:8080',
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, '')
      }
    }
  },
  build: {
    outDir: 'dist',
    sourcemap: false,
    rollupOptions: {
      output: {
        chunkFileNames: 'js/[name]-[hash].js',
        entryFileNames: 'js/[name]-[hash].js',
        assetFileNames: '[ext]/[name]-[hash].[ext]'
      }
    }
  },
  css: {
    preprocessorOptions: {
      scss: {
        additionalData: `@import "@/assets/styles/variables.scss";`
      }
    }
  }
})
```

#### 3. TypeScript配置 (tsconfig.json)
```json
{
  "extends": "@vue/tsconfig/tsconfig.dom.json",
  "include": ["env.d.ts", "src/**/*", "src/**/*.vue"],
  "exclude": ["src/**/__tests__/*"],
  "compilerOptions": {
    "composite": true,
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"],
      "@components/*": ["./src/components/*"],
      "@views/*": ["./src/views/*"],
      "@api/*": ["./src/api/*"],
      "@utils/*": ["./src/utils/*"],
      "@stores/*": ["./src/stores/*"],
      "@assets/*": ["./src/assets/*"],
      "@types/*": ["./src/types/*"]
    },
    "types": ["element-plus/global"]
  }
}
```

## 开发规范

### 1. 命名规范
- **类名**: 使用PascalCase，如`UserService`
- **方法名**: 使用camelCase，如`getUserById`
- **变量名**: 使用camelCase，如`userName`
- **常量名**: 使用UPPER_SNAKE_CASE，如`MAX_FILE_SIZE`
- **文件名**: 使用PascalCase，如`UserController.java`

### 2. 代码组织
- 每个类职责单一，不超过400行
- 方法长度控制在50行以内
- 使用有意义的变量名和注释
- 遵循SOLID原则

### 3. 异常处理
- 统一异常处理机制
- 自定义业务异常
- 避免异常吞没
- 记录详细错误日志

### 4. 安全规范
- 输入参数验证
- SQL注入防护
- XSS防护
- CSRF防护
- 权限验证

### 5. 性能优化
- 数据库查询优化
- 缓存策略
- 分页查询
- 懒加载
- 代码分割

## 部署架构

### 1. 开发环境
- 本地开发服务器
- 热重载支持
- 调试工具集成

### 2. 测试环境
- 自动化测试
- 性能测试
- 安全测试

### 3. 生产环境
- Docker容器化部署
- Nginx负载均衡
- 监控告警系统
- 日志收集分析
- 数据备份恢复

## 项目进度

### 已完成部分

#### 后端项目
- ✅ 项目基础结构创建
- ✅ Maven配置文件 (pom.xml)
- ✅ 主启动类 (EsFileApplication.java)
- ✅ 配置文件 (application-dev.yml)
- ✅ 公共组件
  - ✅ 常量类 (CommonConstant.java)
  - ✅ 响应码枚举 (ResponseCodeEnum.java)
  - ✅ 统一响应结果 (ResponseResult.java)
  - ✅ 分页结果 (PageResult.java)
- ✅ 实体类
  - ✅ 基础实体 (BaseEntity.java)
  - ✅ 用户实体 (User.java)
  - ✅ 角色实体 (Role.java)
  - ✅ 权限实体 (Permission.java)
  - ✅ 用户角色关联实体 (UserRole.java)
  - ✅ 角色权限关联实体 (RolePermission.java)
  - ✅ 文件信息实体 (FileInfo.java)
  - ✅ 系统配置实体 (SystemConfig.java)
- ✅ MyBatis映射器接口
  - ✅ 用户映射器 (UserMapper.java)
  - ✅ 角色映射器 (RoleMapper.java)
  - ✅ 权限映射器 (PermissionMapper.java)
  - ✅ 文件信息映射器 (FileInfoMapper.java)
- ✅ MyBatis映射文件 (XML)
  - ✅ 用户映射文件 (UserMapper.xml)
  - ✅ 角色映射文件 (RoleMapper.xml)
  - ✅ 权限映射文件 (PermissionMapper.xml)
  - ✅ 文件信息映射文件 (FileInfoMapper.xml)
- ✅ 服务层接口
  - ✅ 用户服务 (UserService.java)
  - ✅ 角色服务 (RoleService.java)
  - ✅ 权限服务 (PermissionService.java)
  - ✅ 文件服务 (FileService.java)
- ✅ 服务层实现
  - ✅ 用户服务实现 (UserServiceImpl.java)
  - ✅ 角色服务实现 (RoleServiceImpl.java)
- ✅ 工具类
  - ✅ 密码工具 (PasswordUtil.java)
- ✅ 数据库初始化脚本 (init.sql)

#### 前端项目
- ⏳ 待创建

### 下一步计划
1. 完成剩余的服务层实现类
2. 创建控制器层
3. 实现认证和权限控制
4. 创建前端Vue3项目
5. 实现文件上传和管理功能
6. 实现文件预览和编辑功能
7. 实现数据库操作模块
8. 集成测试和部署配置

这个设计完全遵循阿里规范，包含了完整的目录结构和配置说明。项目基础架构已经搭建完成，可以继续开发其他功能模块。
